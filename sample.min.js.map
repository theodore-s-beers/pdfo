{
  "version": 3,
  "sources": ["pdfobject.ts", "sample.ts"],
  "sourcesContent": ["/*!\n *  PDFObject v2.2.7\n *  https://github.com/pipwerks/PDFObject\n *  @license\n *  Copyright (c) 2008\u20132021 Philip Hutchison\n *  MIT-style license: https://pipwerks.mit-license.org/\n */\n\ninterface EmbedOptions {\n  id?: string\n  page?: number | string\n  pdfOpenParams?: Record<string, unknown>\n  fallbackLink?: string | boolean\n  width?: string\n  height?: string\n  title?: string\n  assumptionMode?: boolean\n  supportRedirect?: boolean\n  omitInlineStyles?: boolean\n  forceIframe?: boolean\n}\n\nexport const pdfObjectVersion = '2.2.7'\n\nexport function embed (\n  url: string,\n  targetSelector: HTMLElement | string,\n  options?: EmbedOptions\n): void {\n  // Ensure options not undefined -- enables easier error checking below\n  const opt = options || {}\n\n  // Get passed options, or set reasonable defaults\n  const id = typeof opt.id === 'string' ? opt.id : ''\n  const page = opt.page || null\n  const pdfOpenParams = opt.pdfOpenParams || {}\n  const fallbackLink =\n    typeof opt.fallbackLink === 'string' ||\n    typeof opt.fallbackLink === 'boolean'\n      ? opt.fallbackLink\n      : true\n  const width = opt.width || '100%'\n  const height = opt.height || '100%'\n  const title = opt.title || 'Embedded PDF'\n  const assumptionMode =\n    typeof opt.assumptionMode === 'boolean' ? opt.assumptionMode : true\n  const supportRedirect =\n    typeof opt.supportRedirect === 'boolean' ? opt.supportRedirect : false\n  const omitInlineStyles =\n    typeof opt.omitInlineStyles === 'boolean' ? opt.omitInlineStyles : false\n  const forceIframe =\n    typeof opt.forceIframe === 'boolean' ? opt.forceIframe : false\n\n  const targetNode = getTargetElement(targetSelector)\n\n  const fallbackHTMLDefault =\n    \"<p>This browser does not support inline PDFs. Please download the PDF to view it: <a href='[url]'>Download PDF</a></p>\"\n\n  let fallbackHTML = ''\n  let pdfOpenFragment = ''\n\n  // If target element is specified but not valid, exit without doing anything\n  // How would targetNode be falsy? I don't yet understand this\n  if (!targetNode) {\n    return embedError('Target element cannot be determined')\n  }\n\n  // page option overrides pdfOpenParams, if found\n  if (page) {\n    pdfOpenParams.page = page\n  }\n\n  // Stringify optional Adobe params for opening PDF (as fragment identifier)\n  pdfOpenFragment = buildURLFragmentString(pdfOpenParams)\n\n  // --== Attempt embed ==--\n\n  // Embed PDF if traditional support is provided, or if this developer is\n  // willing to roll with assumption that modern desktop (not mobile) browsers\n  // natively support PDFs\n  if (supportsPDFs() || (assumptionMode && !isMobileDevice())) {\n    // Should we use <embed> or <iframe>? In most cases <embed>.\n    // Allow developer to force <iframe>, if desired\n    // There is an edge case where Safari does not respect 302 redirect requests\n    // for PDF files when using <embed> element. Redirect appears to work fine\n    // when using <iframe> instead of <embed> (Addresses issue #210). Forcing\n    // Safari desktop to use iframe due to freezing bug in macOS 11 (Big Sur)\n    const embedType =\n      forceIframe || supportRedirect || isSafariDesktop() ? 'iframe' : 'embed'\n\n    return generatePDFObjectMarkup(\n      embedType,\n      targetNode,\n      targetSelector,\n      url,\n      pdfOpenFragment,\n      width,\n      height,\n      id,\n      title,\n      omitInlineStyles\n    )\n  }\n\n  // --== PDF embed not supported! Use fallback ==--\n\n  // Display the fallback link if available\n  if (fallbackLink) {\n    fallbackHTML =\n      typeof fallbackLink === 'string' ? fallbackLink : fallbackHTMLDefault\n    targetNode.innerHTML = fallbackHTML.replace(/\\[url\\]/g, url)\n  }\n\n  return embedError('This browser does not support embedded PDFs')\n}\n\nfunction generatePDFObjectMarkup (\n  embedType: string,\n  targetNode: HTMLElement,\n  targetSelector: HTMLElement | string,\n  url: string,\n  pdfOpenFragment: string,\n  width: string,\n  height: string,\n  id: string,\n  title: string,\n  omitInlineStyles: boolean\n): void {\n  // Ensure target element is empty first\n  emptyNodeContents(targetNode)\n\n  let embed: HTMLEmbedElement | HTMLIFrameElement\n\n  if (embedType === 'iframe') {\n    embed = document.createElement(embedType) as HTMLIFrameElement\n    embed.allow = 'fullscreen'\n  } else {\n    embed = document.createElement(embedType) as HTMLEmbedElement\n    embed.type = 'application/pdf'\n  }\n\n  embed.src = url + pdfOpenFragment\n  embed.className = 'pdfobject'\n  embed.title = title\n  embed.id = id\n\n  if (!omitInlineStyles) {\n    let style = embedType === 'embed' ? 'overflow: auto;' : 'border: none;'\n\n    if (targetSelector !== document.body) {\n      style += 'width: ' + width + '; height: ' + height + ';'\n    } else {\n      style +=\n        'position: absolute; top: 0; right: 0; bottom: 0; left: 0; width: 100%; height: 100%;'\n    }\n\n    embed.style.cssText = style\n  }\n\n  targetNode.classList.add('pdfobject-container')\n\n  // This is where the magic finally happens\n  targetNode.appendChild(embed)\n}\n\nfunction getTargetElement (targetSelector: HTMLElement | string): HTMLElement {\n  // Default to body for full-browser PDF\n  let targetNode = document.body\n\n  // If a targetSelector is specified, check to see whether it's passing a\n  // selector or an HTML element\n\n  if (typeof targetSelector === 'string') {\n    // Is CSS selector\n    targetNode = document.querySelector(targetSelector) as HTMLElement\n  } else if (\n    targetSelector.nodeType !== undefined &&\n    targetSelector.nodeType === 1\n  ) {\n    // Is HTML element\n    targetNode = targetSelector\n  }\n\n  return targetNode\n}\n\nfunction embedError (msg: string): void {\n  console.log('[PDFObject] ' + msg)\n}\n\nfunction emptyNodeContents (node: HTMLElement): void {\n  while (node.firstChild) {\n    node.removeChild(node.firstChild)\n  }\n}\n\nfunction buildURLFragmentString (pdfParams: Record<string, unknown>): string {\n  let string = ''\n\n  if (pdfParams) {\n    for (const prop in pdfParams) {\n      if (Object.prototype.hasOwnProperty.call(pdfParams, prop)) {\n        string +=\n          encodeURIComponent(prop) +\n          '=' +\n          encodeURIComponent(String(pdfParams[prop])) +\n          '&'\n      }\n    }\n\n    // The string will be empty if no PDF Params found\n    if (string) {\n      string = '#' + string\n\n      // Remove last ampersand\n      string = string.slice(0, string.length - 1)\n    }\n  }\n\n  return string\n}\n\nexport function supportsPDFs (): boolean {\n  /*\n    There is a coincidental correlation between implementation of promises and \n    native PDF support in desktop browsers.\n    We assume that if the browser supports promises it supports embedded PDFs.\n    Is this fragile? Sort of. But browser vendors removed mimetype detection, \n    so we're left to improvise\n  */\n  const isModernBrowser = typeof Promise !== 'undefined'\n\n  return (\n    !isMobileDevice() &&\n    // We're moving into the age of MIME-less browsers.\n    // They mostly all support PDF rendering without plugins.\n    isModernBrowser\n  )\n}\n\nfunction isMobileDevice (): boolean {\n  const nav = window.navigator\n  const ua = window.navigator.userAgent\n\n  // Safari on iPadOS doesn't report as 'mobile' when requesting desktop site,\n  // yet still fails to embed PDFs\n  const isSafariIOSDesktopMode =\n    nav.platform !== undefined &&\n    nav.platform === 'MacIntel' &&\n    nav.maxTouchPoints !== undefined &&\n    nav.maxTouchPoints > 1\n\n  // This is recent, and still Chromium-only\n  const newMobileTest = nav.userAgentData?.mobile\n\n  return (\n    isSafariIOSDesktopMode ||\n    /Mobi|Tablet|Android|iPad|iPhone/.test(ua) ||\n    newMobileTest === true\n  )\n}\n\n// Safari desktop requires special handling (i.e., always use iframe)\nfunction isSafariDesktop (): boolean {\n  const nav = window.navigator\n  const ua = window.navigator.userAgent\n\n  return (\n    !isMobileDevice() &&\n    nav.vendor !== undefined &&\n    /Apple/.test(nav.vendor) &&\n    /Safari/.test(ua)\n  )\n}\n", "import * as PDFObject from './pdfobject'\n\nconst pdfOptions = {\n  forceIframe: true,\n  pdfOpenParams: {\n    view: 'Fit',\n  },\n}\n\nPDFObject.embed('dummy.pdf', '#pdf-box', pdfOptions)\n"],
  "mappings": "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",
  "names": []
}
